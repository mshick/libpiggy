{"version":3,"sources":["../src/table-exists.js"],"names":["tableExists","client","table","text","results","query","exists","Boolean","rows","to_regclass","error"],"mappings":";;;;;;;;;;;;AAAA,MAAMA;AAAA,6CAAc,WAAgB,EAACC,MAAD,EAASC,KAAT,EAAhB,EAAiC;AACnD,QAAI;AACF,YAAMC,OAAQ,uBAAsBD,KAAM,KAA1C;AACA,YAAME,UAAU,MAAMH,OAAOI,KAAP,CAAa,EAACF,IAAD,EAAb,CAAtB;;AAEA,aAAO;AACLF,cADK;AAELG,eAFK;AAGLE,gBAAQC,QAAQH,QAAQI,IAAR,CAAa,CAAb,EAAgBC,WAAxB;AAHH,OAAP;AAKD,KATD,CASE,OAAOC,KAAP,EAAc;AACd,aAAO;AACLT,cADK;AAELS;AAFK,OAAP;AAID;AACF,GAhBK;;AAAA;AAAA;AAAA;AAAA,IAAN;;kBAkBeV,W","file":"table-exists.js","sourcesContent":["const tableExists = async function ({client, table}) {\n  try {\n    const text = `SELECT to_regclass('${table}');`;\n    const results = await client.query({text});\n\n    return {\n      client,\n      results,\n      exists: Boolean(results.rows[0].to_regclass)\n    };\n  } catch (error) {\n    return {\n      client,\n      error\n    };\n  }\n};\n\nexport default tableExists;\n"]}